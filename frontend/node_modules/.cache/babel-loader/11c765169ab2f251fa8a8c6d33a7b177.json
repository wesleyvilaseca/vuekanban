{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"row\"\n};\nconst _hoisted_2 = {\n  class: \"col-md-12\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_PageTitle = _resolveComponent(\"PageTitle\");\n  const _component_FormProducts = _resolveComponent(\"FormProducts\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_PageTitle, {\n    page: \"Alterar produto\",\n    pages: _ctx.pages\n  }, null, 8 /* PROPS */, [\"pages\"]), _createCommentVNode(\" Informações do produto \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_FormProducts, {\n    title: `Alterar o produto ${_ctx.produto.title} `,\n    description: \"Preencha os campos a baixo\",\n    item: _ctx.produto,\n    onProcessaFormulario: _cache[0] || (_cache[0] = $event => $options.salvaProduto($event))\n  }, null, 8 /* PROPS */, [\"title\", \"item\"])])])]);\n}","map":{"version":3,"mappings":";;EAKSA,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAW;;;;uBAL1BC,oBAcM,cAbJC,aAAmDC;IAAxCC,IAAI,EAAC,iBAAiB;IAAEC,KAAK,EAAEC;sCAE1CC,+CAA+B,EAC/BC,oBASM,OATNC,UASM,GARJD,oBAOM,OAPNE,UAOM,GANJR,aAKES;IAJCC,KAAK,uBAAuBN,YAAO,CAACM,KAAK;IAC1CC,WAAW,EAAC,4BAA4B;IACvCC,IAAI,EAAER,YAAO;IACbS,oBAAkB,sCAAEC,qBAAY,CAACC,MAAM","names":["class","_createElementBlock","_createVNode","_component_PageTitle","page","pages","_ctx","_createCommentVNode","_createElementVNode","_hoisted_1","_hoisted_2","_component_FormProducts","title","description","item","onProcessaFormulario","$options","$event"],"sourceRoot":"","sources":["/var/www/html/vue-projects/kanban-vuejs/src/views/products/EditProdutoView.vue"],"sourcesContent":["<template>\n  <div>\n    <PageTitle page=\"Alterar produto\" :pages=\"pages\" />\n\n    <!-- Informações do produto -->\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <FormProducts\n          :title=\"`Alterar o produto ${produto.title} `\"\n          description=\"Preencha os campos a baixo\"\n          :item=\"produto\"\n          @processaFormulario=\"salvaProduto($event)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PageTitle from \"@/components/template/PageTitle\";\nimport FormProducts from \"@/components/products/FormProducts\";\nimport { mapActions } from \"vuex\";\n\nexport default {\n  name: \"EditProdutoView\",\n  components: { FormProducts, PageTitle },\n  data: () => ({\n    pages: [\n      {\n        name: \"Início\",\n        link: \"/\",\n      },\n      {\n        name: \"Produtos\",\n        link: \"/produtos\",\n      },\n    ],\n    parametros: {},\n    produto: {\n      id: 0,\n      title: \"\",\n      brand_id: \"\",\n    },\n  }),\n  methods: {\n    ...mapActions([\"getProductId\", \"updateProduct\"]),\n\n    salvaProduto(item) {\n      item.id = this.parametros.id;\n\n      let form = new FormData();\n      form.set(\"title\", item.title);\n      form.set(\"description\", item.description);\n      form.set(\"brand_id\", item.brand_id);\n\n      this.updateProduct({ obj: item, form })\n        .then(() => {\n          this.$router.push({ name: \"produtos\" });\n        })\n        .catch((err) => console.log(\"error\", err));\n    },\n  },\n  mounted() {\n    // Recupera  os parametros\n    this.parametros = this.$route.params;\n\n    // Busca o produto\n    setTimeout(() => {\n      this.getProductId(this.parametros.id).then((result) => {\n        let prod = result[0];\n        prod.brand_id = prod.brand.id;\n        this.produto = prod;\n      });\n    }, 1500);\n  },\n};\n</script>"]},"metadata":{},"sourceType":"module"}
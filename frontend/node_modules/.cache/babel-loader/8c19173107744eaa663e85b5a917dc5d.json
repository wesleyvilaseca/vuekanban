{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6022a06c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"row flex-row flex-sm-nowrap py-3\"\n};\nconst _hoisted_2 = {\n  class: \"card bg-light\"\n};\nconst _hoisted_3 = {\n  class: \"card-body card-body-atv\"\n};\nconst _hoisted_4 = {\n  class: \"lane-title\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"#\",\n  class: \"card-link\"\n}, \"Card link\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"#\",\n  class: \"card-link\"\n}, \"Another link\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_CardComponent = _resolveComponent(\"CardComponent\");\n  const _component_Draggable = _resolveComponent(\"Draggable\");\n  const _component_Container = _resolveComponent(\"Container\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.boards, (board, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"col-sm-6 col-md-4 col-xl-3\",\n      key: index\n    }, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h2\", _hoisted_4, _toDisplayString(board.title), 1 /* TEXT */), _createVNode(_component_Container, {\n      \"group-name\": \"trello\",\n      onDragStart: _cache[0] || (_cache[0] = $event => $options.handleDragStart('backlog', $event)),\n      onDrop: _cache[1] || (_cache[1] = $event => $options.handleDrop('backlog', $event)),\n      \"get-child-payload\": $options.getChildPayload\n    }, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.cards.backlog, item => {\n        return _openBlock(), _createBlock(_component_Draggable, {\n          key: item.id\n        }, {\n          default: _withCtx(() => [_createVNode(_component_CardComponent, {\n            class: \"mt-2\",\n            title: item.title,\n            subtitle: item.subtitle\n          }, {\n            body: _withCtx(() => [_createTextVNode(_toDisplayString(item.description), 1 /* TEXT */)]),\n\n            footer: _withCtx(() => [_hoisted_5, _hoisted_6]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"title\", \"subtitle\"])]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */);\n      }), 128 /* KEYED_FRAGMENT */))]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"get-child-payload\"])])])]);\n  }), 128 /* KEYED_FRAGMENT */))]);\n}","map":{"version":3,"mappings":";;;EACOA,KAAK,EAAC;AAAkC;;EAGpCA,KAAK,EAAC;AAAe;;EACnBA,KAAK,EAAC;AAAyB;;EAC9BA,KAAK,EAAC;AAAY;gEAedC,oBAA2C;EAAxCC,IAAI,EAAC,GAAG;EAACF,KAAK,EAAC;GAAY,WAAS;gEACvCC,oBAA8C;EAA3CC,IAAI,EAAC,GAAG;EAACF,KAAK,EAAC;GAAY,cAAY;;;;;;uBArB1DG,oBA6BM,OA7BNC,UA6BM,sBA5BJD,oBA2BME,6BA3B4DC,WAAM,GAAvBC,KAAK,EAAEC,KAAK;yBAA7DL,oBA2BM;MA3BDH,KAAK,EAAC,4BAA4B;MAChCS,GAAG,EAAED;QACVP,oBAwBM,OAxBNS,UAwBM,GAvBJT,oBAsBM,OAtBNU,UAsBM,GArBJV,oBAA2C,MAA3CW,UAA2C,mBAAlBL,KAAK,CAACM,KAAK,kBACpCC,aAmBYC;MAlBV,YAAU,EAAC,QAAQ;MAClBC,WAAU,sCAAEC,wBAAe,YAAYC,MAAM;MAC7CC,MAAI,sCAAEF,mBAAU,YAAYC,MAAM;MAClC,mBAAiB,EAAED;;wBAET,MAA6B,oBAAxCd,oBAYYE,6BAZcC,UAAK,CAACc,OAAO,EAArBC,IAAI;6BAAtBC,aAYYC;UAZ8Bd,GAAG,EAAEY,IAAI,CAACG;;4BAClD,MAUgB,CAVhBV,aAUgBW;YATdzB,KAAK,EAAC,MAAM;YACXa,KAAK,EAAEQ,IAAI,CAACR,KAAK;YACjBa,QAAQ,EAAEL,IAAI,CAACK;;YAECC,IAAI,WAAE,MAAsB,mCAAnBN,IAAI,CAACO,WAAW;;YACzBC,MAAM,WACrB,MAA2C,CAA3CC,UAA2C,EAC3CC,UAA8C","names":["class","_createElementVNode","href","_createElementBlock","_hoisted_1","_Fragment","_ctx","board","index","key","_hoisted_2","_hoisted_3","_hoisted_4","title","_createVNode","_component_Container","onDragStart","$options","$event","onDrop","backlog","item","_createBlock","_component_Draggable","id","_component_CardComponent","subtitle","body","description","footer","_hoisted_5","_hoisted_6"],"sourceRoot":"","sources":["/var/www/html/vue-projects/kanban-vuejs/frontend/src/views/kanban/KanbanView.vue"],"sourcesContent":["<template>\n  <div class=\"row flex-row flex-sm-nowrap py-3\">\n    <div class=\"col-sm-6 col-md-4 col-xl-3\"  v-for=\"(board, index) in boards\"\n          :key=\"index\">\n      <div class=\"card bg-light\">\n        <div class=\"card-body card-body-atv\">\n          <h2 class=\"lane-title\">{{board.title}}</h2>\n          <Container\n            group-name=\"trello\"\n            @drag-start=\"handleDragStart('backlog', $event)\"\n            @drop=\"handleDrop('backlog', $event)\"\n            :get-child-payload=\"getChildPayload\"\n          >\n            <Draggable v-for=\"item in cards.backlog\" :key=\"item.id\">\n              <CardComponent\n                class=\"mt-2\"\n                :title=\"item.title\"\n                :subtitle=\"item.subtitle\"\n              >\n                <template v-slot:body> {{ item.description }} </template>\n                <template v-slot:footer>\n                  <a href=\"#\" class=\"card-link\">Card link</a>\n                  <a href=\"#\" class=\"card-link\">Another link</a>\n                </template>\n              </CardComponent>\n            </Draggable>\n          </Container>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// import PageTitle from \"@/components/template/PageTitle\";\nimport { Container, Draggable } from \"vue3-smooth-dnd\";\nimport { mapActions, mapState } from \"vuex\";\nimport CardComponent from \"@/components/card/CardComponent\";\n\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"KanbanView\",\n  components: { Container, CardComponent, Draggable },\n  data: () => ({\n    dragginCard: {\n      lane: \"\",\n      index: -1,\n      cardData: {},\n    },\n    cards: {\n      backlog: [\n        {\n          id: 1,\n          title: \"primeiro card\",\n          subtitle: \"\",\n          description: \"primeiro card desc\",\n        },\n        {\n          id: 2,\n          title: \"segundo card\",\n          subtitle: \"\",\n          description: \"segundo card desc\",\n        },\n        {\n          id: 3,\n          title: \"terceiro card\",\n          subtitle: \"\",\n          description: \"primeiro card desc\",\n        },\n      ],\n      dev: [\n        {\n          id: 4,\n          title: \"title quarto card\",\n          subtitle: \"\",\n          description: \"desc quarto card\",\n        },\n        {\n          id: 5,\n          title: \"title quinto card\",\n          subtitle: \"\",\n          description: \"desc quinto card\",\n        },\n        {\n          id: 6,\n          title: \"title sexto card\",\n          subtitle: \"\",\n          description: \"desc sexto card\",\n        },\n      ],\n      testes: [\n        {\n          id: 7,\n          title: \"title setimo card\",\n          subtitle: \"\",\n          description: \"desc setimo card\",\n        },\n      ],\n      concluido: [],\n    },\n    pages: [\n      {\n        name: \"Início\",\n        link: \"/\",\n      },\n    ],\n  }),\n  methods: {\n    ...mapActions([\"getBoard\"]),\n    add() {\n      if (this.newTask) {\n        this.arrBacklog.push({ name: this.newTask });\n        console.log(this.arrBacklog);\n        this.newTask = \"\";\n      }\n    },\n\n    handleDragStart(lane, dragResult) {\n      const { payload, isSource } = dragResult;\n      if (isSource) {\n        this.dragginCard = {\n          //lane é boar, exemplo backlog\n          lane,\n          index: payload.index,\n          cardData: {\n            //payload.index é o index do array\n            ...this.cards[lane][payload.index],\n          },\n        };\n      }\n    },\n    handleDrop(lane, dropResult) {\n      const { removedIndex, addedIndex } = dropResult;\n      if (lane === this.dragginCard.lane && removedIndex === addedIndex) {\n        return;\n      }\n\n      if (removedIndex !== null) {\n        //vai remover o index\n        this.cards[lane].splice(removedIndex, 1);\n      }\n\n      if (addedIndex !== null) {\n        this.cards[lane].splice(addedIndex, 0, this.dragginCard.cardData);\n      }\n    },\n\n    getChildPayload(index) {\n      return {\n        index,\n      };\n    },\n  },\n  computed: {\n    ...mapState({\n      boards: (state) => state.kanban.board,\n    }),\n  },\n  mounted() {\n    this.getBoard().catch((err) => {\n      // this.Toast.fire(\"Ocorreu um erro ao listar os produtos.\", \"\", \"error\");\n      console.log(\"error\", err);\n    });\n  },\n};\n</script>\n\n<style scoped>\n.placeholder {\n  background: rgba(33, 33, 33, 0.08) !important;\n  border-radius: 0.4rem !important;\n  transform: scaleY(0.85);\n  transform-origin: 0% 0%;\n}\n\n.card-body-atv {\n  min-height: 500px;\n}\n\n.smooth-dnd-container {\n  min-height: 500px !important;\n}\n</style>"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"row\"\n};\nconst _hoisted_2 = {\n  class: \"col-md-3\"\n};\nconst _hoisted_3 = {\n  class: \"col-md-9\"\n};\nconst _hoisted_4 = {\n  class: \"card\"\n};\nconst _hoisted_5 = {\n  class: \"card-body\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"mt-0 mb-3 header-title\"\n}, \"Adicione valores\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"form-group\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Valor para a informação\", -1 /* HOISTED */);\nconst _hoisted_9 = {\n  key: 0,\n  class: \"valida\"\n};\nconst _hoisted_10 = {\n  class: \"form-group mt-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_PageTitle = _resolveComponent(\"PageTitle\");\n  const _component_FormOptions = _resolveComponent(\"FormOptions\");\n  const _component_TableList = _resolveComponent(\"TableList\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_PageTitle, {\n    page: \"Adicionar informação\",\n    pages: _ctx.pages\n  }, null, 8 /* PROPS */, [\"pages\"]), _createElementVNode(\"div\", _hoisted_1, [_createCommentVNode(\" Edita as informações \"), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_FormOptions, {\n    title: \"Alterar a informação\",\n    description: \"Preencha os campos a baixo\",\n    item: _ctx.option,\n    onProcessaFormulario: _cache[0] || (_cache[0] = $event => $options.alterarOption($event))\n  }, null, 8 /* PROPS */, [\"item\"])]), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" Adicionar valores \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Ex: Branco\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.optionValue.name = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.optionValue.name]]), _ctx.valida > 0 && _ctx.optionValue.name.length === 0 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, \"Preecha esse campo.\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.adicionarValorOption())\n  }, \" Adicionar \")])])]), _createCommentVNode(\" Lista os valores \"), _createVNode(_component_TableList, {\n    title: \"Valores cadastrados\",\n    campos: _ctx.campos,\n    itens: $options.getListValue(),\n    acoes: ['delete'],\n    onDeletar: _cache[3] || (_cache[3] = $event => $options.deletarValor($event))\n  }, null, 8 /* PROPS */, [\"campos\", \"itens\"])])])]);\n}","map":{"version":3,"mappings":";;EAISA,KAAK,EAAC;AAAK;;EAGTA,KAAK,EAAC;AAAU;;EAShBA,KAAK,EAAC;AAAU;;EAEdA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAW;gCACpBC,oBAAwD;EAApDD,KAAK,EAAC;AAAwB,GAAC,kBAAgB;;EAE9CA,KAAK,EAAC;AAAY;gCACrBC,oBAAsC,eAA/B,yBAAuB;;;EAE2BD,KAAK,EAAC;;;EAG5DA,KAAK,EAAC;AAAiB;;;;;uBA3BtCE,oBA6CM,cA5CJC,aAAuDC;IAA5CC,IAAI,EAAC,sBAAsB;IAAEC,KAAK,EAAEC;sCAE/CN,oBAyCM,OAzCNO,UAyCM,GAvCJC,6CAA6B,EAC7BR,oBAOM,OAPNS,UAOM,GANJP,aAKEQ;IAJEC,KAAK,EAAC,sBAAsB;IAC5BC,WAAW,EAAC,4BAA4B;IACvCC,IAAI,EAAEP,WAAM;IACZQ,oBAAkB,sCAAEC,sBAAa,CAACC,MAAM;uCAI/ChB,oBA4BM,OA5BNiB,UA4BM,GA3BJT,0CAA0B,EAC1BR,oBAgBM,OAhBNkB,UAgBM,GAfJlB,oBAcM,OAdNmB,UAcM,GAbJC,UAAwD,EAExDpB,oBAIM,OAJNqB,UAIM,GAHJC,UAAsC,kBACtCtB,oBAA8F;IAAvFuB,IAAI,EAAC,MAAM;IAACxB,KAAK,EAAC,cAAc;IAACyB,WAAW,EAAC,YAAY;+DAAUlB,gBAAW,CAACmB,IAAI;iDAAhBnB,gBAAW,CAACmB,IAAI,KAC9EnB,WAAM,QAAQA,gBAAW,CAACmB,IAAI,CAACC,MAAM,wBAAjDzB,oBAAkG,QAAlG0B,UAAkG,EAA1B,qBAAmB,0CAG7F3B,oBAIM,OAJN4B,WAIM,GAHJ5B,oBAES;IAFDD,KAAK,EAAC,iBAAiB;IAAE8B,OAAK,sCAAEd,6BAAoB;KAAI,aAEhE,SAKNP,yCAAyB,EACzBN,aAME4B;IALEnB,KAAK,EAAC,qBAAqB;IAC1BoB,MAAM,EAAEzB,WAAM;IACd0B,KAAK,EAAEjB,qBAAY;IACnBkB,KAAK,EAAE,UAAU;IACjBC,SAAO,sCAAEnB,qBAAY,CAACC,MAAM","names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_PageTitle","page","pages","_ctx","_hoisted_1","_createCommentVNode","_hoisted_2","_component_FormOptions","title","description","item","onProcessaFormulario","$options","$event","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","type","placeholder","name","length","_hoisted_9","_hoisted_10","onClick","_component_TableList","campos","itens","acoes","onDeletar"],"sourceRoot":"","sources":["/var/www/html/vue-projects/kanban-vuejs/src/views/options/EditOptions.vue"],"sourcesContent":["<template>\n  <div>\n    <PageTitle page=\"Adicionar informação\" :pages=\"pages\"/>\n\n    <div class=\"row\">\n\n      <!-- Edita as informações -->\n      <div class=\"col-md-3\">\n        <FormOptions\n            title=\"Alterar a informação\"\n            description=\"Preencha os campos a baixo\"\n            :item=\"option\"\n            @processaFormulario=\"alterarOption($event)\"\n        />\n      </div>\n\n      <div class=\"col-md-9\">\n        <!-- Adicionar valores -->\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <h4 class=\"mt-0 mb-3 header-title\">Adicione valores</h4>\n\n            <div class=\"form-group\">\n              <label>Valor para a informação</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Ex: Branco\" v-model=\"optionValue.name\" />\n              <span v-if=\"valida > 0 && optionValue.name.length === 0\" class=\"valida\">Preecha esse campo.</span>\n            </div>\n\n            <div class=\"form-group mt-4\">\n              <button class=\"btn btn-primary\" @click=\"adicionarValorOption()\">\n                Adicionar\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- Lista os valores -->\n        <TableList\n            title=\"Valores cadastrados\"\n            :campos=\"campos\"\n            :itens=\"getListValue()\"\n            :acoes=\"['delete']\"\n            @deletar=\"deletarValor($event)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PageTitle from \"@/components/template/PageTitle\";\nimport {mapActions, mapState} from \"vuex\";\nimport FormOptions from \"@/components/options/FormOptions\";\nimport TableList from \"@/components/template/TableList\";\n\nexport default {\n  name: \"EditOptions\",\n  components: {TableList, FormOptions, PageTitle},\n  data: () => ({\n    pages: [\n      {\n        name: \"Início\",\n        link: \"/\"\n      },\n      {\n        name: \"Informações\",\n        link: \"/informacoes\"\n      }\n    ],\n    id: \"\",\n    campos: [\n      { text: 'ID', field: 'id' },\n      { text: 'Valor', field: 'name' }\n    ],\n    option: {},\n    optionValue: {name: \"\"},\n    valida: 0\n  }),\n  computed: {\n    ...mapState(\"options\", [\"listOptionsValue\"])\n  },\n  methods: {\n    ...mapActions(\"options\", [\"getOptionId\", \"getValueOption\", \"updateOption\", \"deleteValueOption\", \"insertOptionValue\"]),\n\n    getListValue() {\n      var id = this.id;\n      return this.listOptionsValue.filter(data => data.option_id == id)\n    },\n\n    alterarOption(obj){\n      obj.id = this.id\n\n      var form = new FormData();\n      form.set(\"title\", obj.title);\n      form.set(\"description\", obj.description);\n      form.set(\"type\", \"unique\");\n\n      this.updateOption({obj, form})\n    },\n\n    adicionarValorOption() {\n      this.valida = 1;\n\n      if(this.optionValue.name === \"\" || this.optionValue.name === null)\n        return false;\n\n      // Repassa o obj para form obj.\n      let form = new FormData();\n      form.set(\"name\", this.optionValue.name);\n      form.set(\"option_id\", this.id);\n\n      this.insertOptionValue(form)\n      this.valida = 0;\n      this.optionValue.name = \"\"\n\n      setTimeout(() => {\n        this.buscaValores()\n      }, 500)\n    },\n\n    deletarValor(obj) {\n      // Verifica se realmente deve deletar\n      this.$swal.fire({\n        title: 'Deletar Valor',\n        text: `Deseja realmente deletar o valor?`,\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        confirmButtonText: 'Sim, pode deletar.',\n        cancelButtonColor: '#d33',\n        cancelButtonText: 'Cancelar'\n      }).then((result) => {\n        if (result.isConfirmed) {\n          this.deleteValueOption(obj)\n              .then(() => {\n                this.buscaValores()\n              })\n        }\n      })\n    }\n  },\n  created() {\n    this.id = this.parametros = this.$route.params.id\n\n    // Busca o produto\n    setTimeout(() => {\n      this.getOptionId(this.id)\n          .then((result) => {\n            let item = result[0]\n            this.option = item\n          })\n    }, 1500)\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}
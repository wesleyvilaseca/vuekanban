{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// import PageTitle from \"@/components/template/PageTitle\";\nimport { Container, Draggable } from \"vue3-smooth-dnd\";\nimport CardComponent from \"@/components/card/CardComponent\";\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"KanbanView\",\n  components: {\n    Container,\n    CardComponent,\n    Draggable\n  },\n  data: () => ({\n    dragginCard: {\n      lane: \"\",\n      index: -1,\n      cardData: {}\n    },\n    cards: {\n      backlog: [{\n        id: 1,\n        title: \"primeiro card\",\n        subtitle: \"\",\n        description: \"primeiro card desc\"\n      }, {\n        id: 2,\n        title: \"segundo card\",\n        subtitle: \"\",\n        description: \"segundo card desc\"\n      }, {\n        id: 3,\n        title: \"terceiro card\",\n        subtitle: \"\",\n        description: \"primeiro card desc\"\n      }],\n      dev: [{\n        id: 4,\n        title: \"title quarto card\",\n        subtitle: \"\",\n        description: \"desc quarto card\"\n      }, {\n        id: 5,\n        title: \"title quinto card\",\n        subtitle: \"\",\n        description: \"desc quinto card\"\n      }, {\n        id: 6,\n        title: \"title sexto card\",\n        subtitle: \"\",\n        description: \"desc sexto card\"\n      }],\n      testes: [{\n        id: 7,\n        title: \"title setimo card\",\n        subtitle: \"\",\n        description: \"desc setimo card\"\n      }],\n      concluido: []\n    },\n    pages: [{\n      name: \"Início\",\n      link: \"/\"\n    }]\n  }),\n  methods: {\n    add() {\n      if (this.newTask) {\n        this.arrBacklog.push({\n          name: this.newTask\n        });\n        console.log(this.arrBacklog);\n        this.newTask = \"\";\n      }\n    },\n    handleDragStart(lane, dragResult) {\n      const {\n        payload,\n        isSource\n      } = dragResult;\n      if (isSource) {\n        this.dragginCard = {\n          //lane é boar, exemplo backlog\n          lane,\n          index: payload.index,\n          cardData: {\n            //payload.index é o index do array\n            ...this.cards[lane][payload.index]\n          }\n        };\n      }\n    },\n    handleDrop(lane, dropResult) {\n      const {\n        removeIndex,\n        addedIndex\n      } = dropResult;\n      if (lane === this.dragginCard.lane && removeIndex === addedIndex) {\n        return;\n      }\n      if (removeIndex !== null) {\n        //vai remover o index\n        this.cards[lane].slice(removeIndex, 1);\n      }\n    },\n    getChildPayload(index) {\n      return {\n        index\n      };\n    }\n  },\n  computed: {},\n  mounted() {}\n};","map":{"version":3,"mappings":"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","names":["Container","Draggable","CardComponent","name","components","data","dragginCard","lane","index","cardData","cards","backlog","id","title","subtitle","description","dev","testes","concluido","pages","link","methods","add","newTask","arrBacklog","push","console","log","handleDragStart","dragResult","payload","isSource","handleDrop","dropResult","removeIndex","addedIndex","slice","getChildPayload","computed","mounted"],"sourceRoot":"","sources":["/var/www/html/vue-projects/kanban-vuejs/frontend/src/views/kanban/KanbanView.vue"],"sourcesContent":["<template>\n  <!-- <PageTitle page=\"Kanban\" :pages=\"pages\" /> -->\n  <!-- <div class=\"row\">\n    <div class=\"col-xl-12\">kanban page</div>\n    <div class=\"bol form-inline\">\n      <input v-model=\"newTask\" placeholder=\"Enter task\" />\n      <button class=\"btn btn-sm btn-success\" @click.prevent=\"add\">\n        Adicionar no BackLog\n      </button>\n    </div>\n  </div> -->\n\n  <div class=\"row flex-row flex-sm-nowrap py-3\">\n    <div class=\"col-sm-6 col-md-4 col-xl-3\">\n      <div class=\"card bg-light\">\n        <div class=\"card-body\">\n          <h2 class=\"lane-title\">Backlog</h2>\n          <Container\n            group-name=\"trello\"\n            @drag-start=\"handleDragStart('backlog', $event)\"\n            @drop=\"handleDrop('backlog', $event)\"\n            :get-child-payload=\"getChildPayload\"\n          >\n            <Draggable v-for=\"item in cards.backlog\" :key=\"item.id\">\n              <CardComponent\n                class=\"mt-2\"\n                :title=\"item.title\"\n                :subtitle=\"item.subtitle\"\n              >\n                <template v-slot:body> {{ item.description }} </template>\n                <template v-slot:footer>\n                  <a href=\"#\" class=\"card-link\">Card link</a>\n                  <a href=\"#\" class=\"card-link\">Another link</a>\n                </template>\n              </CardComponent>\n            </Draggable>\n          </Container>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"col-sm-6 col-md-4 col-xl-3\">\n      <div class=\"card bg-light\">\n        <div class=\"card-body\">\n          <h2 class=\"lane-title\">Desenvolvimento</h2>\n          <Container\n            group-name=\"trello\"\n            @drag-start=\"handleDragStart('dev', $event)\"\n            @drop=\"handleDrop('dev', $event)\"\n            :get-child-payload=\"getChildPayload\"\n          >\n            <Draggable v-for=\"item in cards.dev\" :key=\"item.id\">\n              <CardComponent\n                class=\"mt-2\"\n                :title=\"item.title\"\n                :subtitle=\"item.subtitle\"\n              >\n                <template v-slot:body> {{ item.description }} </template>\n                <template v-slot:footer>\n                  <a href=\"#\" class=\"card-link\">Card link</a>\n                  <a href=\"#\" class=\"card-link\">Another link</a>\n                </template>\n              </CardComponent>\n            </Draggable>\n          </Container>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"col-sm-6 col-md-4 col-xl-3\">\n      <div class=\"card bg-light\">\n        <div class=\"card-body\">\n          <h2 class=\"lane-title\">Testes</h2>\n          <Container\n            group-name=\"trello\"\n            @drag-start=\"handleDragStart('testes', $event)\"\n            @drop=\"handleDrop('testes', $event)\"\n            :get-child-payload=\"getChildPayload\"\n          >\n            <Draggable v-for=\"item in cards.testes\" :key=\"item.id\">\n              <CardComponent\n                class=\"mt-2\"\n                :title=\"item.title\"\n                :subtitle=\"item.subtitle\"\n              >\n                <template v-slot:body> {{ item.description }} </template>\n                <template v-slot:footer>\n                  <a href=\"#\" class=\"card-link\">Card link</a>\n                  <a href=\"#\" class=\"card-link\">Another link</a>\n                </template>\n              </CardComponent>\n            </Draggable>\n          </Container>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"col-sm-6 col-md-4 col-xl-3\">\n      <div class=\"card bg-light\">\n        <div class=\"card-body\">\n          <h2 class=\"lane-title\">Concluído</h2>\n          <Container\n            group-name=\"trello\"\n            @drag-start=\"handleDragStart('concluido', $event)\"\n            @drop=\"handleDrop('concluido', $event)\"\n            :get-child-payload=\"getChildPayload\"\n          >\n            <Draggable v-for=\"item in cards.concluido\" :key=\"item.id\">\n              <CardComponent\n                class=\"mt-2\"\n                :title=\"item.title\"\n                :subtitle=\"item.subtitle\"\n              >\n                <template v-slot:body> {{ item.description }} </template>\n                <template v-slot:footer>\n                  <a href=\"#\" class=\"card-link\">Card link</a>\n                  <a href=\"#\" class=\"card-link\">Another link</a>\n                </template>\n              </CardComponent>\n            </Draggable>\n          </Container>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// import PageTitle from \"@/components/template/PageTitle\";\nimport { Container, Draggable } from \"vue3-smooth-dnd\";\nimport CardComponent from \"@/components/card/CardComponent\";\n\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"KanbanView\",\n  components: { Container, CardComponent, Draggable },\n  data: () => ({\n    dragginCard: {\n      lane: \"\",\n      index: -1,\n      cardData: {},\n    },\n    cards: {\n      backlog: [\n        {\n          id: 1,\n          title: \"primeiro card\",\n          subtitle: \"\",\n          description: \"primeiro card desc\",\n        },\n        {\n          id: 2,\n          title: \"segundo card\",\n          subtitle: \"\",\n          description: \"segundo card desc\",\n        },\n        {\n          id: 3,\n          title: \"terceiro card\",\n          subtitle: \"\",\n          description: \"primeiro card desc\",\n        },\n      ],\n      dev: [\n        {\n          id: 4,\n          title: \"title quarto card\",\n          subtitle: \"\",\n          description: \"desc quarto card\",\n        },\n        {\n          id: 5,\n          title: \"title quinto card\",\n          subtitle: \"\",\n          description: \"desc quinto card\",\n        },\n        {\n          id: 6,\n          title: \"title sexto card\",\n          subtitle: \"\",\n          description: \"desc sexto card\",\n        },\n      ],\n      testes: [\n        {\n          id: 7,\n          title: \"title setimo card\",\n          subtitle: \"\",\n          description: \"desc setimo card\",\n        },\n      ],\n      concluido: [],\n    },\n    pages: [\n      {\n        name: \"Início\",\n        link: \"/\",\n      },\n    ],\n  }),\n  methods: {\n    add() {\n      if (this.newTask) {\n        this.arrBacklog.push({ name: this.newTask });\n        console.log(this.arrBacklog);\n        this.newTask = \"\";\n      }\n    },\n\n    handleDragStart(lane, dragResult) {\n      const { payload, isSource } = dragResult;\n      if (isSource) {\n        this.dragginCard = {\n          //lane é boar, exemplo backlog\n          lane,\n          index: payload.index,\n          cardData: {\n            //payload.index é o index do array\n            ...this.cards[lane][payload.index],\n          },\n        };\n      }\n    },\n    handleDrop(lane, dropResult) {\n      const { removeIndex, addedIndex } = dropResult;\n      if(lane === this.dragginCard.lane && removeIndex === addedIndex) {\n        return;\n      }\n\n      if(removeIndex !== null) {\n        //vai remover o index\n        this.cards[lane].slice(removeIndex, 1)\n      }\n    },\n\n    getChildPayload(index) {\n      return {\n        index,\n      };\n    },\n  },\n  computed: {},\n  mounted() {},\n};\n</script>"]},"metadata":{},"sourceType":"module"}
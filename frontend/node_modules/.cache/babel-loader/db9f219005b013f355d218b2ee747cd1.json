{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport PageTitle from \"@/components/template/PageTitle\";\nimport FormProducts from \"@/components/products/FormProducts\";\nimport { mapActions } from \"vuex\";\nexport default {\n  name: \"EditProdutoView\",\n  components: {\n    FormProducts,\n    PageTitle\n  },\n  data: () => ({\n    pages: [{\n      name: \"Início\",\n      link: \"/\"\n    }, {\n      name: \"Produtos\",\n      link: \"/produtos\"\n    }],\n    parametros: {},\n    produto: {\n      id: 0,\n      title: \"\",\n      brand_id: \"\"\n    }\n  }),\n  methods: {\n    ...mapActions([\"getProductId\", \"updateProduct\"]),\n    salvaProduto(item) {\n      item.id = this.parametros.id;\n      let form = new FormData();\n      form.set(\"title\", item.title);\n      form.set(\"description\", item.description);\n      form.set(\"brand_id\", item.brand_id);\n      this.updateProduct({\n        obj: item,\n        form\n      }).then(() => {\n        this.$router.push({\n          name: \"produtos\"\n        });\n      }).catch(err => console.log(\"error\", err));\n    }\n  },\n  mounted() {\n    // Recupera  os parametros\n    this.parametros = this.$route.params;\n\n    // Busca o produto\n    setTimeout(() => {\n      this.getProductId(this.parametros.id).then(result => {\n        let prod = result[0];\n        prod.brand_id = prod.brand.id;\n        this.produto = prod;\n      });\n    }, 1500);\n  }\n};","map":{"version":3,"mappings":";AAmBA,OAAOA,SAAQ,MAAO,iCAAiC;AACvD,OAAOC,YAAW,MAAO,oCAAoC;AAC7D,SAASC,UAAS,QAAS,MAAM;AAEjC,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,UAAU,EAAE;IAAEH,YAAY;IAAED;EAAU,CAAC;EACvCK,IAAI,EAAE,OAAO;IACXC,KAAK,EAAE,CACL;MACEH,IAAI,EAAE,QAAQ;MACdI,IAAI,EAAE;IACR,CAAC,EACD;MACEJ,IAAI,EAAE,UAAU;MAChBI,IAAI,EAAE;IACR,CAAC,CACF;IACDC,UAAU,EAAE,CAAC,CAAC;IACdC,OAAO,EAAE;MACPC,EAAE,EAAE,CAAC;MACLC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;IACZ;EACF,CAAC,CAAC;EACFC,OAAO,EAAE;IACP,GAAGX,UAAU,CAAC,CAAC,cAAc,EAAE,eAAe,CAAC,CAAC;IAEhDY,YAAY,CAACC,IAAI,EAAE;MACjBA,IAAI,CAACL,EAAC,GAAI,IAAI,CAACF,UAAU,CAACE,EAAE;MAE5B,IAAIM,IAAG,GAAI,IAAIC,QAAQ,EAAE;MACzBD,IAAI,CAACE,GAAG,CAAC,OAAO,EAAEH,IAAI,CAACJ,KAAK,CAAC;MAC7BK,IAAI,CAACE,GAAG,CAAC,aAAa,EAAEH,IAAI,CAACI,WAAW,CAAC;MACzCH,IAAI,CAACE,GAAG,CAAC,UAAU,EAAEH,IAAI,CAACH,QAAQ,CAAC;MAEnC,IAAI,CAACQ,aAAa,CAAC;QAAEC,GAAG,EAAEN,IAAI;QAAEC;MAAK,CAAC,EACnCM,IAAI,CAAC,MAAM;QACV,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UAAErB,IAAI,EAAE;QAAW,CAAC,CAAC;MACzC,CAAC,EACAsB,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,GAAG,CAAC,CAAC;IAC9C;EACF,CAAC;EACDG,OAAO,GAAG;IACR;IACA,IAAI,CAACrB,UAAS,GAAI,IAAI,CAACsB,MAAM,CAACC,MAAM;;IAEpC;IACAC,UAAU,CAAC,MAAM;MACf,IAAI,CAACC,YAAY,CAAC,IAAI,CAACzB,UAAU,CAACE,EAAE,CAAC,CAACY,IAAI,CAAEY,MAAM,IAAK;QACrD,IAAIC,IAAG,GAAID,MAAM,CAAC,CAAC,CAAC;QACpBC,IAAI,CAACvB,QAAO,GAAIuB,IAAI,CAACC,KAAK,CAAC1B,EAAE;QAC7B,IAAI,CAACD,OAAM,GAAI0B,IAAI;MACrB,CAAC,CAAC;IACJ,CAAC,EAAE,IAAI,CAAC;EACV;AACF,CAAC","names":["PageTitle","FormProducts","mapActions","name","components","data","pages","link","parametros","produto","id","title","brand_id","methods","salvaProduto","item","form","FormData","set","description","updateProduct","obj","then","$router","push","catch","err","console","log","mounted","$route","params","setTimeout","getProductId","result","prod","brand"],"sourceRoot":"","sources":["/var/www/html/vue-projects/kanban-vuejs/frontend/src/views/products/EditProdutoView.vue"],"sourcesContent":["<template>\n  <div>\n    <PageTitle page=\"Alterar produto\" :pages=\"pages\" />\n\n    <!-- Informações do produto -->\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <FormProducts\n          :title=\"`Alterar o produto ${produto.title} `\"\n          description=\"Preencha os campos a baixo\"\n          :item=\"produto\"\n          @processaFormulario=\"salvaProduto($event)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PageTitle from \"@/components/template/PageTitle\";\nimport FormProducts from \"@/components/products/FormProducts\";\nimport { mapActions } from \"vuex\";\n\nexport default {\n  name: \"EditProdutoView\",\n  components: { FormProducts, PageTitle },\n  data: () => ({\n    pages: [\n      {\n        name: \"Início\",\n        link: \"/\",\n      },\n      {\n        name: \"Produtos\",\n        link: \"/produtos\",\n      },\n    ],\n    parametros: {},\n    produto: {\n      id: 0,\n      title: \"\",\n      brand_id: \"\",\n    },\n  }),\n  methods: {\n    ...mapActions([\"getProductId\", \"updateProduct\"]),\n\n    salvaProduto(item) {\n      item.id = this.parametros.id;\n\n      let form = new FormData();\n      form.set(\"title\", item.title);\n      form.set(\"description\", item.description);\n      form.set(\"brand_id\", item.brand_id);\n\n      this.updateProduct({ obj: item, form })\n        .then(() => {\n          this.$router.push({ name: \"produtos\" });\n        })\n        .catch((err) => console.log(\"error\", err));\n    },\n  },\n  mounted() {\n    // Recupera  os parametros\n    this.parametros = this.$route.params;\n\n    // Busca o produto\n    setTimeout(() => {\n      this.getProductId(this.parametros.id).then((result) => {\n        let prod = result[0];\n        prod.brand_id = prod.brand.id;\n        this.produto = prod;\n      });\n    }, 1500);\n  },\n};\n</script>"]},"metadata":{},"sourceType":"module"}
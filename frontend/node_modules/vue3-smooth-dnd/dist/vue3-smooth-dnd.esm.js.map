{"version":3,"file":"vue3-smooth-dnd.esm.js","sources":["../src/utils/utils.js","../src/components/Container.js","../src/components/Draggable.js"],"sourcesContent":["\r\n/**\r\n * Checks if object is array\r\n * @param {*} obj \r\n * @returns boolean\r\n */\r\nconst isArray = function (obj) {\r\n  return Array.isArray(obj);\r\n  //return Object.prototype.toString.call(obj) === '[object Array]';\r\n};\r\n\r\n/**\r\n * Checks if tag or tag.value (ref) is string function or object\r\n * @param {*} tag \r\n * @returns boolean\r\n */\r\nexport function validateTagProp (tag) {\r\n  if (tag) {\r\n    if (typeof tag === 'string') return true;\r\n    if (typeof tag === 'object') {\r\n      if (\r\n        typeof tag.value === 'string' ||\r\n        typeof tag.value === 'function' ||\r\n        typeof tag.value === 'object'\r\n      ) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nexport function getTagProps (ctx, tagClasses) {\r\n  const tag = ctx.$props.tag;\r\n  if (tag) {\r\n    if (typeof tag === 'string') {\r\n      const result = { value: tag };\r\n      if (tagClasses) {\r\n        result.props = { class: tagClasses };\r\n      }\r\n      return result;\r\n    } else if (typeof tag === 'object') {\r\n      const result = { value: tag.value || 'div', props: tag.props || {} };\r\n      if (tagClasses) {\r\n        if (result.props.class) {\r\n          if (isArray(result.props.class)) {\r\n            result.props.class.push(tagClasses);\r\n          } else {\r\n            result.props.class = [tagClasses, result.props.class];\r\n          }\r\n        } else {\r\n          result.props.class = tagClasses;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n  }\r\n  return { value: 'div' };\r\n}","import { defineComponent, h } from 'vue';\r\nimport { smoothDnD, dropHandlers } from 'smooth-dnd';\r\nimport { getTagProps, validateTagProp } from '../utils/utils';\r\n\r\nsmoothDnD.dropHandler = dropHandlers.reactDropHandler().handler;\r\nsmoothDnD.wrapChild = false;\r\n\r\nconst eventEmitterMap = {\r\n  'drag-start': 'onDragStart',\r\n  'drag-end': 'onDragEnd',\r\n  'drop': 'onDrop',\r\n  'drag-enter': 'onDragEnter',\r\n  'drag-leave': 'onDragLeave',\r\n  'drop-ready': 'onDropReady'\r\n};\r\n\r\nexport default defineComponent({\r\n  name: 'Container',\r\n  mounted () {\r\n    // emit events\r\n    const options = Object.assign({}, this.$props);\r\n    for (const key in eventEmitterMap) {\r\n      //console.log(`${key}: ${eventEmitterMap[key]}`);\r\n      options[eventEmitterMap[key]] = (props) => {\r\n        this.$emit(key, props);\r\n      }\r\n    }\r\n\r\n    this.containerElement = this.$refs.container || this.$el;\r\n    this.container = smoothDnD(this.containerElement, options);\r\n  },\r\n  unmounted () {\r\n    if (this.container) {\r\n      this.container.dispose();\r\n    }\r\n  },\r\n  emits: ['drop', 'drag-start', 'drag-end', 'drag-enter', 'drag-leave', 'drop-ready' ],\r\n  props: {\r\n    removeOnDropOut: { type: Boolean, default: false },\r\n    autoScrollEnabled: { type: Boolean, default: true },\r\n    behaviour: String,\r\n    groupName: String,\r\n    orientation: String,\r\n    dragHandleSelector: String,\r\n    nonDragAreaSelector: String,\r\n    lockAxis: String,\r\n    dragClass: String,\r\n    dropClass: String,\r\n    dragBeginDelay: Number,\r\n    animationDuration: Number,\r\n    getChildPayload: Function,\r\n    shouldAnimateDrop: Function,\r\n    shouldAcceptDrop: Function,\r\n    getGhostParent: Function,\r\n    dropPlaceholder: [Object, Boolean],\r\n    tag: {\r\n      validator: validateTagProp,\r\n      default: 'div',\r\n    }\r\n  },\r\n  render(){\r\n    const tagProps = getTagProps(this);\r\n    return h(\r\n      tagProps.value,\r\n      Object.assign({}, { ref: 'container' }, tagProps.props),\r\n      this.$slots.default(),\r\n    );\r\n  }\r\n});\r\n","import { defineComponent, h } from 'vue';\r\nimport { constants } from 'smooth-dnd';\r\nimport { getTagProps, validateTagProp } from '../utils/utils';\r\n\r\nexport default defineComponent({\r\n  name: 'Draggable',\r\n  props: {\r\n    tag: {\r\n      validator: validateTagProp,\r\n      default: 'div'\r\n    },\r\n  },\r\n  render: function () {\r\n    //wrap child\r\n    const tagProps = getTagProps(this, constants.wrapperClass);\r\n    return h(\r\n      tagProps.value,\r\n      Object.assign({}, tagProps.props),\r\n      this.$slots.default()\r\n    );\r\n  }\r\n});\r\n"],"names":[],"mappings":"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"}
{"version":3,"file":"vue3-smooth-dnd.global.js","sources":["../src/utils/utils.js","../src/components/Container.js","../src/components/Draggable.js"],"sourcesContent":["\r\n/**\r\n * Checks if object is array\r\n * @param {*} obj \r\n * @returns boolean\r\n */\r\nconst isArray = function (obj) {\r\n  return Array.isArray(obj);\r\n  //return Object.prototype.toString.call(obj) === '[object Array]';\r\n};\r\n\r\n/**\r\n * Checks if tag or tag.value (ref) is string function or object\r\n * @param {*} tag \r\n * @returns boolean\r\n */\r\nexport function validateTagProp (tag) {\r\n  if (tag) {\r\n    if (typeof tag === 'string') return true;\r\n    if (typeof tag === 'object') {\r\n      if (\r\n        typeof tag.value === 'string' ||\r\n        typeof tag.value === 'function' ||\r\n        typeof tag.value === 'object'\r\n      ) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nexport function getTagProps (ctx, tagClasses) {\r\n  const tag = ctx.$props.tag;\r\n  if (tag) {\r\n    if (typeof tag === 'string') {\r\n      const result = { value: tag };\r\n      if (tagClasses) {\r\n        result.props = { class: tagClasses };\r\n      }\r\n      return result;\r\n    } else if (typeof tag === 'object') {\r\n      const result = { value: tag.value || 'div', props: tag.props || {} };\r\n      if (tagClasses) {\r\n        if (result.props.class) {\r\n          if (isArray(result.props.class)) {\r\n            result.props.class.push(tagClasses);\r\n          } else {\r\n            result.props.class = [tagClasses, result.props.class];\r\n          }\r\n        } else {\r\n          result.props.class = tagClasses;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n  }\r\n  return { value: 'div' };\r\n}","import { defineComponent, h } from 'vue';\r\nimport { smoothDnD, dropHandlers } from 'smooth-dnd';\r\nimport { getTagProps, validateTagProp } from '../utils/utils';\r\n\r\nsmoothDnD.dropHandler = dropHandlers.reactDropHandler().handler;\r\nsmoothDnD.wrapChild = false;\r\n\r\nconst eventEmitterMap = {\r\n  'drag-start': 'onDragStart',\r\n  'drag-end': 'onDragEnd',\r\n  'drop': 'onDrop',\r\n  'drag-enter': 'onDragEnter',\r\n  'drag-leave': 'onDragLeave',\r\n  'drop-ready': 'onDropReady'\r\n};\r\n\r\nexport default defineComponent({\r\n  name: 'Container',\r\n  mounted () {\r\n    // emit events\r\n    const options = Object.assign({}, this.$props);\r\n    for (const key in eventEmitterMap) {\r\n      //console.log(`${key}: ${eventEmitterMap[key]}`);\r\n      options[eventEmitterMap[key]] = (props) => {\r\n        this.$emit(key, props);\r\n      }\r\n    }\r\n\r\n    this.containerElement = this.$refs.container || this.$el;\r\n    this.container = smoothDnD(this.containerElement, options);\r\n  },\r\n  unmounted () {\r\n    if (this.container) {\r\n      this.container.dispose();\r\n    }\r\n  },\r\n  emits: ['drop', 'drag-start', 'drag-end', 'drag-enter', 'drag-leave', 'drop-ready' ],\r\n  props: {\r\n    removeOnDropOut: { type: Boolean, default: false },\r\n    autoScrollEnabled: { type: Boolean, default: true },\r\n    behaviour: String,\r\n    groupName: String,\r\n    orientation: String,\r\n    dragHandleSelector: String,\r\n    nonDragAreaSelector: String,\r\n    lockAxis: String,\r\n    dragClass: String,\r\n    dropClass: String,\r\n    dragBeginDelay: Number,\r\n    animationDuration: Number,\r\n    getChildPayload: Function,\r\n    shouldAnimateDrop: Function,\r\n    shouldAcceptDrop: Function,\r\n    getGhostParent: Function,\r\n    dropPlaceholder: [Object, Boolean],\r\n    tag: {\r\n      validator: validateTagProp,\r\n      default: 'div',\r\n    }\r\n  },\r\n  render(){\r\n    const tagProps = getTagProps(this);\r\n    return h(\r\n      tagProps.value,\r\n      Object.assign({}, { ref: 'container' }, tagProps.props),\r\n      this.$slots.default(),\r\n    );\r\n  }\r\n});\r\n","import { defineComponent, h } from 'vue';\r\nimport { constants } from 'smooth-dnd';\r\nimport { getTagProps, validateTagProp } from '../utils/utils';\r\n\r\nexport default defineComponent({\r\n  name: 'Draggable',\r\n  props: {\r\n    tag: {\r\n      validator: validateTagProp,\r\n      default: 'div'\r\n    },\r\n  },\r\n  render: function () {\r\n    //wrap child\r\n    const tagProps = getTagProps(this, constants.wrapperClass);\r\n    return h(\r\n      tagProps.value,\r\n      Object.assign({}, tagProps.props),\r\n      this.$slots.default()\r\n    );\r\n  }\r\n});\r\n"],"names":["smoothDnD","dropHandlers","defineComponent","h","constants"],"mappings":"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"}